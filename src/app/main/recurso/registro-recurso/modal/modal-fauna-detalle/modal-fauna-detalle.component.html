<div class="dialog-content-wrapper" >
    <mat-toolbar class="m-0" style="background-color: #679738; color: white;">
        <mat-toolbar-row fxFlex fxLayout="row" fxLayoutAlign="space-between center">
            <span class="title dialog-title"> <b>  {{tittleFaunaDetalle}} </b></span>
            <button mat-icon-button (click)="dialogRef.close()" aria-label="Close dialog">
                <mat-icon>close</mat-icon>
            </button>
        </mat-toolbar-row>
    </mat-toolbar>

    <div mat-dialog-content class="p-16 pb-0 m-0"  fusePerfectScrollbar>

        <div class="tab-content p-24" fxLayout="column">

            <div fxLayout="row" fxLayoutAlign="space-between">
                <div fxFlex="98"></div>
                <button mat-icon-button color="primary" floatLabel="always" fxFlex="2"
                    (click)="agregar()">
                    <mat-icon aria-label="Agregar">add</mat-icon>
                </button>
            </div>
        </div>


    <div class="example-container mat-elevation-z1">
        <table mat-table [dataSource]="dataSource">

            
            <ng-container matColumnDef="position">
                <th mat-header-cell *matHeaderCellDef style="width:10%"></th>
                <!--<td mat-cell *matCellDef="let element;let i = index;" >
                    {{ i + 1 + (paginator.pageIndex * paginator.pageSize) }}
                </td>-->
                <td mat-cell *matCellDef="let element">
                    <button  mat-mini-fab (click)="eliminar(element)" style="background-color: #d33;">
                        <mat-icon>delete</mat-icon>
                       </button>        
                </td>
            </ng-container>

            <ng-container matColumnDef="cantidad">
                <th mat-header-cell *matHeaderCellDef style="width:17%"> Cantidad </th>
                <td mat-cell *matCellDef="let element">
                    <div *ngIf="element.idEspecie !== 0">
                        <mat-form-field [style.width.px]=100>
                            <mat-label></mat-label>
                            <input matInput type="text" placeholder=""                                
                                [(ngModel)]="element.txCantidadProducto"
                                style="text-align: right;"
                                onkeypress="return /[0-9.]/i.test(event.key)"
                                >
                        </mat-form-field>
                    </div>                    
                </td>
            </ng-container>

            <ng-container matColumnDef="edad">
                <th mat-header-cell *matHeaderCellDef style="width:17%"> Edad </th>
                <td mat-cell *matCellDef="let element">
                    <div *ngIf="element.idEspecie !== 0">
                        <mat-form-field style="margin-bottom: 0px"
                            *ngIf="element.idEspecie !== 0" [style.width.px]=120>
                            <mat-label>Edad</mat-label>
                            <mat-select [(ngModel)]="element.edadEspecie">
                                <mat-option [value]="">
                                    Seleccione
                                </mat-option>
                                <ng-container *ngFor="let item of listEdadEspecie">
                                    <mat-option [value]="item.codigo">
                                        {{item.valorPrimario}}
                                    </mat-option>
                                </ng-container>
                            </mat-select>
                        </mat-form-field>
                    </div>                    
                </td>
            </ng-container>

            <ng-container matColumnDef="estado">
                <th mat-header-cell *matHeaderCellDef style="width:17%"> Estado </th>
                <td mat-cell *matCellDef="let element">
                    <div *ngIf="element.idEspecie !== 0">
                        <mat-form-field style="margin-bottom: 0px"
                            *ngIf="element.idEspecie !== 0" [style.width.px]=120>
                            <mat-label>Estado</mat-label>
                            <mat-select [(ngModel)]="element.estadoEspecie">
                                <mat-option [value]="">
                                    Seleccione
                                </mat-option>
                                <ng-container *ngFor="let item of listEstadoEspecie">
                                    <mat-option [value]="item.codigo">
                                        {{item.valorPrimario}}
                                    </mat-option>
                                </ng-container>
                            </mat-select>
                        </mat-form-field>
                    </div>                    
                </td>
            </ng-container>

            <ng-container matColumnDef="observaciones">
                <th mat-header-cell *matHeaderCellDef style="width:40%"> Observaciones </th>
                <td mat-cell *matCellDef="let element">
                    <div *ngIf="element.idEspecie !== 0">
                        <mat-form-field [style.width.px]=350>
                            <mat-label></mat-label>
                            <input matInput type="text" placeholder=""                                
                                [(ngModel)]="element.observaciones"                                                                
                                >
                        </mat-form-field>
                    </div>                    
                </td>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </table>
        
        <mat-paginator style="color: #89B361;" #paginator [pageSize]="10" [pageSizeOptions]="[5, 10, 20]"
        [showFirstLastButtons]="true">
        </mat-paginator>
    </div>

</div>

<br> <br>
<div style="text-align: right;">
    <button mat-fab class="next fuse-white-fg" style="background-color: #679738;" (click)="registrarFaunaDetalle()">
        <mat-icon>check</mat-icon>
    </button>
    &nbsp;
    <button mat-fab class="next red-600 fuse-white-fg mat-dialog-close" (click)="close()">
        <mat-icon>close</mat-icon>
    </button>
</div>